
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>config_data &#8212; cohere  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinxdoc.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="config_rec" href="config_rec.html" />
    <link rel="prev" title="config_prep" href="config_prep.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="config_rec.html" title="config_rec"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="config_prep.html" title="config_prep"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">cohere  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="configuration.html" accesskey="U">Configuration</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">config_data</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="config-data">
<h1>config_data<a class="headerlink" href="#config-data" title="Permalink to this headline">¶</a></h1>
<div class="line-block">
<div class="line">The “config_data” file defines parameters needed to format data. The input is a data file obtained in the preparation phase.</div>
</div>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>data_dir:</p></li>
</ul>
<div class="line-block">
<div class="line">optional, used for specific cases. Driven by the scripts, the experiment directory contains four directories: conf, preprocessed_data, phasing_data, results_phasing, and results_viz. The formatted data is saved in the &lt;experimenr_dir&gt;/data directory. If the data_dir parameter is configured then the data is saved in this directory. Warning: The script running reconstruction expects to read data from &lt;experimenr_dir&gt;/data.</div>
<div class="line">example:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/data_dir/data_dir&quot;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>alien_alg:</p></li>
</ul>
<div class="line-block">
<div class="line">optional, name of method used to remove aliens. Possible options are: ‘block_aliens’, ‘alien_file’, and ‘AutoAlien1’. The ‘block_aliens’ algorithm will zero out defined blocks, ‘alien_file’ method will use given file as a mask, and ‘AutoAlien1’ will use auto mechanism to remove aliens. Each of these algorithms require different parameters, explained below.</div>
<div class="line">example:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alien_alg</span> <span class="o">=</span> <span class="s2">&quot;AutoAlien1&quot;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>aliens:</p></li>
</ul>
<div class="line-block">
<div class="line">Needed when the ‘block_aliens’ method is configured. Used when the data contains regions with intensity produced by interference. The regions needs to be zeroed out. The aliens can be defined as regions each defined by coordinates of starting point, and ending point (i.e. [[xb0,yb0,zb0,xe0,ye0,ze0],[xb1,yb1,zb1,xe1,ye1,ze1],…[xbn,ybn,zbn,xen,yen,zen]] ).</div>
<div class="line">example:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">aliens</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">170</span><span class="p">,</span><span class="mi">220</span><span class="p">,</span><span class="mi">112</span><span class="p">,</span><span class="mi">195</span><span class="p">,</span><span class="mi">245</span><span class="p">,</span><span class="mi">123</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span><span class="mi">96</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">60</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">20</span><span class="p">]]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>alien_file:</p></li>
</ul>
<div class="line-block">
<div class="line">Needed when the ‘alien_file’ method is configured. User can produce a file in npy format that contains table of zeros and ones, where zero means to set the pixel to zero, and one to leave it.</div>
<div class="line">example:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alien_file</span> <span class="o">=</span> <span class="s2">&quot;/path/to/mask_file/AlienImg.npy&quot;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>AA1_size_threshold:</p></li>
</ul>
<div class="line-block">
<div class="line">used in the ‘AutoAliens1’ method. If not given it will default to 0.01.  The AutoAlien1 algorithm will calculate relative  sizes of all clusters with respect to the biggest cluster. The clusters with relative size smaller than the given threshold will be possibly deemed aliens. It also depends on asymmetry.</div>
<div class="line">example:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AA1_size_threshold</span> <span class="o">=</span> <span class="mf">0.01</span>
</pre></div>
</div>
<ul class="simple">
<li><p>AA1_asym_threshold:</p></li>
</ul>
<div class="line-block">
<div class="line">used in the ‘AutoAliens1’ method. If not given it will default to 1.75. The AutoAlien1 algorithm will calculate average asymmetry of all clusters. The clusters with average asymmetry greater than the given threshold will be possibly deemed aliens. It also depends on relative size.</div>
<div class="line">example:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AA1_asym_threshold</span> <span class="o">=</span> <span class="mf">1.75</span>
</pre></div>
</div>
<ul class="simple">
<li><p>AA1_min_pts:</p></li>
</ul>
<div class="line-block">
<div class="line">used in the ‘AutoAliens1’ method. If not given it will default to 5. Defines minimum non zero points in neighborhood to count the area of data as cluster.</div>
<div class="line">example:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AA1_min_pts</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>
</div>
<ul class="simple">
<li><p>AA1_eps:</p></li>
</ul>
<div class="line-block">
<div class="line">used in the ‘AutoAliens1’ method. If not given it will default to 1.1. Used in the clustering algorithm.</div>
<div class="line">example:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AA1_eps</span> <span class="o">=</span> <span class="mf">1.1</span>
</pre></div>
</div>
<ul class="simple">
<li><p>AA1_amp_threshold:</p></li>
</ul>
<div class="line-block">
<div class="line">mandatory in the ‘AutoAliens1’ method. Used to zero data points below that threshold.</div>
<div class="line">example:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AA1_amp_threshold</span> <span class="o">=</span> <span class="mi">6</span>
</pre></div>
</div>
<ul class="simple">
<li><p>AA1_save_arrs</p></li>
</ul>
<div class="line-block">
<div class="line">used in the ‘AutoAliens1’ method, optional. If given and set to True multiple results of alien analysis will be saved in files.</div>
<div class="line">example:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AA1_save_arrs</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<ul class="simple">
<li><p>AA1_expandcleanedsigma:</p></li>
</ul>
<div class="line-block">
<div class="line">used in the ‘AutoAliens1’ method, optional. If given the algorithm will apply last step of cleaning the data using the configured sigma.</div>
<div class="line">example:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AA1_expandcleanedsigma</span> <span class="o">=</span> <span class="mf">5.0</span>
</pre></div>
</div>
<ul class="simple">
<li><p>intensity_threshold:</p></li>
</ul>
<div class="line-block">
<div class="line">mandatory, min data threshold.  Intensity values below this are set to 0. The threshold is applied after removing aliens.</div>
<div class="line">example:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">intensity_threshold</span> <span class="o">=</span> <span class="mf">25.0</span>
</pre></div>
</div>
<ul class="simple">
<li><p>adjust_dimensions:</p></li>
</ul>
<div class="line-block">
<div class="line">optional, a list of number to adjust the size at each side of 3D data. If number is positive, the array will be padded. If negative, cropped. The parameters correspond to [x left, x right, y left, y right, z left, z right] The final dimensions will be adjusted up to the good number for the FFT which also is compatible with opencl supported dimensions powers of 2 or a*2^n, where a is 3, 5, or 9</div>
<div class="line">example:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">adjust_dimensions</span> <span class="o">=</span> <span class="p">[</span><span class="mi">13</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">65</span><span class="p">,</span> <span class="o">-</span><span class="mi">65</span><span class="p">,</span> <span class="o">-</span><span class="mi">65</span><span class="p">,</span> <span class="o">-</span><span class="mi">65</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>center_shift:</p></li>
</ul>
<div class="line-block">
<div class="line">optional, enter center shift list the array maximum is centered before binning, and moved according to center_shift, [0,0,0] has no effect</div>
<div class="line">example:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">center_shift</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>binning:</p></li>
</ul>
<div class="line-block">
<div class="line">optional, a list that defines binning values in respective dimensions, [1,1,1] has no effect</div>
<div class="line">example:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">binning</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">config_data</a><ul>
<li><a class="reference internal" href="#parameters">Parameters</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="config_prep.html"
                          title="previous chapter">config_prep</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="config_rec.html"
                          title="next chapter">config_rec</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/config_data.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="config_rec.html" title="config_rec"
             >next</a> |</li>
        <li class="right" >
          <a href="config_prep.html" title="config_prep"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">cohere  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="configuration.html" >Configuration</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">config_data</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Barbara Frosik, Ross Harder.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  </body>
</html>